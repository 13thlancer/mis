<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mis.mapper.ManagerMapper" >
    <resultMap id="BaseResultMap" type="com.mis.entity.User" >
        <id column="userid" property="userid" jdbcType="VARCHAR" />
        <result column="username" property="username" jdbcType="VARCHAR" />
        <result column="sysaccount" property="account" jdbcType="VARCHAR" />
        <result column="password" property="password" jdbcType="VARCHAR" />
        <result column="telphone" property="telphone" jdbcType="VARCHAR" />
        <result column="WXID" property="wxid" jdbcType="VARCHAR" />
        <result column="YZJID" property="yzjid" jdbcType="VARCHAR" />
        <result column="email" property="email" jdbcType="VARCHAR" />
        <result column="isenabledMis" property="isenabledMis" jdbcType="VARCHAR" />
        <result column="isenabledWX" property="isenabledWX" jdbcType="VARCHAR" />
        <result column="isenabledYZJ" property="isenabledYZJ" jdbcType="VARCHAR" />
        <result column="regdate" property="regdate" jdbcType="TIMESTAMP" />
        <result column="peopleid" property="peopleid" jdbcType="VARCHAR" />
        <result column="Userlevel" property="Userlevel" jdbcType="VARCHAR" />
    </resultMap>

    <sql id="ShowAllManager">
        userid,username,sysaccount,password,telphone,email,isenabledMis,regdate
    </sql>

    <insert id="addManager" parameterType="com.mis.entity.Manager">
        insert into t_user ( userid,username,sysaccount,password,telphone,email,isenabledMis,regdate)
        values (#{userid,jdbcType=VARCHAR},#{username,jdbcType=VARCHAR},#{sysaccount,jdbcType=VARCHAR},#{password,jdbcType=VARCHAR},#{telphone,jdbcType=VARCHAR},
        #{email,jdbcType=VARCHAR},#{isenabledMis,jdbcType=VARCHAR},#{regdate,jdbcType=DATE})
    </insert>

    <select id="selectManager" resultMap="BaseResultMap" parameterType="java.lang.String">
        select
        <include refid="ShowAllManager" />
        from t_user
    </select>

    <insert id="bindRole" parameterType="com.mis.entity.RoleUser">
        insert into t_pm_role_user ( id,rolenum,userid)
        values (#{id,jdbcType=VARCHAR},#{rolenum,jdbcType=VARCHAR},#{userid,jdbcType=VARCHAR})
    </insert>

    <insert id="addUser" parameterType="com.mis.entity.Manager">
        insert into t_user ( userid,telphone,email,userlevel,peopleid)
        values (#{userid,jdbcType=VARCHAR},#{telphone,jdbcType=VARCHAR},#{email,jdbcType=VARCHAR},#{userlevel,jdbcType=VARCHAR},#{peopleid,jdbcType=VARCHAR})
    </insert>

</mapper>